## Etapa 3: Preparando o ambiente do GitHub Copilot Coding Agent

O GitHub Copilot Coding Agent √© um assistente de IA avan√ßado que pode executar tarefas complexas de desenvolvimento automaticamente. Para maximizar sua efic√°cia, precisamos configurar dois arquivos essenciais que personalizam seu comportamento e ambiente de trabalho.

### Configura√ß√£o do GitHub Copilot Coding Agent

O GitHub Copilot Coding Agent funciona diferente do Copilot tradicional - ele n√£o apenas sugere c√≥digo, mas pode:
- **Executar comandos e workflows completos** de desenvolvimento
- **Analisar e modificar m√∫ltiplos arquivos** simultaneamente  
- **Executar testes e valida√ß√µes** automaticamente
- **Interagir com APIs e servi√ßos externos** conforme necess√°rio
- **Criar documenta√ß√£o e relat√≥rios** detalhados sobre as mudan√ßas

Para que o agent funcione eficientemente, precisamos configurar:

#### 1. **Instru√ß√µes do Copilot** (`.github/copilot-instructions.md`)
Este arquivo fornece contexto espec√≠fico do projeto para orientar o comportamento do agent:
- **Contexto de neg√≥cio**: Informa√ß√µes sobre a escola, usu√°rios e objetivos
- **Padr√µes arquiteturais**: Como o c√≥digo deve ser estruturado (Clean Architecture)
- **Conven√ß√µes de desenvolvimento**: Padr√µes de nomenclatura, valida√ß√£o e testes
- **Comandos √∫teis**: Scripts e workflows comuns do projeto

#### 2. **Passos de Configura√ß√£o** (`.github/workflows/copilot-setup-steps.yml`)
Este workflow GitHub Actions pr√©-configura o ambiente de desenvolvimento:
- **Pr√©-instala depend√™ncias**: Java 21, Maven, MongoDB
- **Configura cache**: Para acelerar compila√ß√µes futuras
- **Define vari√°veis de ambiente**: Profiles e configura√ß√µes necess√°rias
- **Valida o ambiente**: Garante que tudo est√° funcionando antes do agent iniciar

### Benef√≠cios desta Configura√ß√£o

- **Velocidade**: Agent n√£o perde tempo instalando ferramentas b√°sicas
- **Consist√™ncia**: Ambiente padronizado evita erros de configura√ß√£o  
- **Contexto**: Agent entende melhor o projeto e toma decis√µes mais precisas
- **Efici√™ncia**: Reduz uso de minutos do GitHub Actions e melhora performance

> [!TIP]
> Voc√™ tamb√©m pode [habilitar um servidor Model Context Protocol (MCP)](https://docs.github.com/en/enterprise-cloud@latest/early-access/copilot/coding-agent/extending-copilot-coding-agent-with-model-context-protocol) para dar ainda mais funcionalidades ao Copilot!

### üìö Documenta√ß√£o Oficial e Links √öteis

Para aprofundar seu conhecimento sobre o GitHub Copilot Coding Agent, consulte estes recursos oficiais:

#### üìñ Documenta√ß√£o Principal
- [**Sobre o GitHub Copilot Coding Agent**](https://docs.github.com/copilot/concepts/about-copilot-coding-agent) - Vis√£o geral completa, benef√≠cios, seguran√ßa e limita√ß√µes
- [**Como usar o Copilot para trabalhar em issues**](https://docs.github.com/en/copilot/using-github-copilot/coding-agent/using-copilot-to-work-on-an-issue) - Guia passo a passo para atribuir issues ao Copilot
- [**Personalizando o ambiente de desenvolvimento**](https://docs.github.com/copilot/how-tos/agents/copilot-coding-agent/customizing-the-development-environment-for-copilot-coding-agent) - Como configurar depend√™ncias e vari√°veis de ambiente

#### üèÜ Melhores Pr√°ticas
- [**Boas pr√°ticas para usar o Copilot em tarefas**](https://docs.github.com/en/copilot/tutorials/coding-agent/best-practices) - Como escrever issues eficazes e escolher tarefas adequadas
- [**Uso respons√°vel do Copilot Coding Agent**](https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-copilot-coding-agent-on-githubcom) - Diretrizes de seguran√ßa e √©tica

#### üîß Configura√ß√£o e Personaliza√ß√£o
- [**Adicionando instru√ß√µes personalizadas**](https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot) - Como criar arquivos `.github/copilot-instructions.md`
- [**Habilitando o Copilot Coding Agent**](https://docs.github.com/en/copilot/concepts/coding-agent/enable-coding-agent) - Requisitos e processo de ativa√ß√£o
- [**Estendendo com Model Context Protocol (MCP)**](https://docs.github.com/en/copilot/using-github-copilot/coding-agent/extending-copilot-coding-agent-with-mcp) - Funcionalidades avan√ßadas

#### üéØ Hands-on e Pr√°tica
- [**Exerc√≠cio: Expand your team with Copilot**](https://github.com/skills/expand-your-team-with-copilot/) - Pr√°tica guiada oficial do GitHub Skills
- [**Monitorando sess√µes do Copilot**](https://docs.github.com/en/copilot/how-tos/agents/copilot-coding-agent/tracking-copilots-sessions) - Como acompanhar o progresso em tempo real

#### üè¢ Para Organiza√ß√µes
- [**Pilotando o Copilot Coding Agent na organiza√ß√£o**](https://docs.github.com/en/copilot/tutorials/coding-agent/pilot-coding-agent) - Guia para implanta√ß√£o empresarial
- [**Usando efetivamente na organiza√ß√£o**](https://docs.github.com/pt/copilot/rolling-out-github-copilot-at-scale/enabling-developers/using-copilot-coding-agent-in-org) - Estrat√©gias de ado√ß√£o

#### ‚öôÔ∏è Refer√™ncias T√©cnicas
- [**Sintaxe de workflows do GitHub Actions**](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions) - Para customizar `copilot-setup-steps.yml`
- [**Permiss√µes do GITHUB_TOKEN**](https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/controlling-permissions-for-github_token) - Configura√ß√£o de seguran√ßa
- [**GitHub Copilot Trust Center**](https://copilot.github.trust.page/) - Informa√ß√µes sobre privacidade e seguran√ßa

> üí° **Dica**: Marque estes links como favoritos! Eles ser√£o √∫teis durante toda sua jornada com o GitHub Copilot Coding Agent.

### ‚å®Ô∏è Atividade: Configure as instru√ß√µes do GitHub Copilot Agent

O arquivo `.github/copilot-instructions.md` j√° existe no reposit√≥rio e cont√©m as diretrizes arquiteturais do projeto. Voc√™ precisa estudar e marcar que entendeu o conte√∫do.

1. No menu superior, selecione a aba **Code**.

1. Crie um novo branch chamado `prepare-environment`.

   <img width="250" alt="imagem" src="https://github.com/user-attachments/assets/c48deded-4214-4edd-9a50-d1368bfb12e8" />

1. Navegue at√© o arquivo `.github/copilot-instructions.md` e estude seu conte√∫do.

1. **Leia atentamente** todas as se√ß√µes do arquivo, especialmente:
   - **Architecture Overview**: Como o projeto usa Clean Architecture
   - **Critical Development Patterns**: Padr√µes de valida√ß√£o, reposit√≥rios e casos de uso
   - **Essential Commands & Workflows**: Comandos Maven e configura√ß√£o do ambiente
   - **Key Technical Decisions**: Decis√µes sobre seguran√ßa, testes e integra√ß√£o

1. **Marque a caixa de sele√ß√£o** no in√≠cio do arquivo para confirmar que entendeu:

   ```md
   [X] - Aprendi sobre como configurar o copilot-instructions.
   ```
   
   > ‚ö†Ô∏è **Importante**: Troque `[ ]` por `[X]` para marcar a caixa como conclu√≠da.

1. **Opcional**: Se desejar, pode adicionar informa√ß√µes extras sobre intera√ß√£o com usu√°rios:

   ```md
   ### Intera√ß√£o com Usu√°rios

   Considere o seguinte ao se comunicar com a equipe:

   - Os professores n√£o s√£o t√©cnicos. Explique de forma simples e evite jarg√µes de software.
   - Qualquer novo c√≥digo deve ser f√°cil de manter e entender, mesmo sem experi√™ncia em programa√ß√£o.

   ## Arquitetura do Programa

   - Os usu√°rios do site s√£o alunos e professores. Garanta uma experi√™ncia simples.
   - N√£o crie apps ou servi√ßos adicionais.
   - N√£o crie ferramentas de linha de comando.
   - N√£o fa√ßa uma aplica√ß√£o longa em um √∫nico arquivo. Sempre use uma estrutura de diret√≥rios f√°cil de entender.
   - Use apenas HTML, CSS, Javascript e Java. N√£o utilize outras linguagens.
   ```

1. **Fa√ßa commit das altera√ß√µes** no branch `prepare-environment`.

### ‚å®Ô∏è Atividade: Configure o ambiente de desenvolvimento para o GitHub Copilot Agent

O arquivo `copilot-setup-steps.yml` j√° existe e cont√©m a configura√ß√£o do ambiente. Voc√™ precisa estudar e marcar que entendeu como configur√°-lo.

> **Como funciona**: Este workflow GitHub Actions √© executado **antes** do Copilot Agent iniciar, preparando um ambiente completo com Java 21, Maven e MongoDB. Isso economiza tempo e garante consist√™ncia.

1. Certifique-se de que voc√™ ainda est√° no branch `prepare-environment`.

1. Navegue at√© o arquivo `.github/workflows/copilot-setup-steps.yml` e **estude seu conte√∫do detalhadamente**.

1. **Analise cada se√ß√£o do workflow**:

   - **Nome e trigger**: Como o workflow √© identificado e quando executa
   - **Job obrigat√≥rio**: Por que o job deve se chamar `copilot-setup-steps`
   - **Permiss√µes**: Quais acessos o workflow precisa 
   - **Steps de configura√ß√£o**: Como Java, MongoDB e depend√™ncias s√£o instaladas
   - **Verifica√ß√µes**: Como o ambiente √© validado antes do Agent iniciar

1. **Marque a caixa de sele√ß√£o** no in√≠cio do arquivo para confirmar que entendeu:

   ```yml
   # [X] - Aprendi sobre como configurar o copilot-setup-steps.
   ```
   
   > ‚ö†Ô∏è **Importante**: Troque `[ ]` por `[X]` para marcar a caixa como conclu√≠da.

1. **Teste o workflow** (opcional):
   - V√° para a aba **Actions** do reposit√≥rio
   - Clique em "Copilot Setup Steps" 
   - Clique em "Run workflow" para executar manualmente
   - Observe como o ambiente √© configurado

1. **Fa√ßa commit das altera√ß√µes** no branch `prepare-environment`.

#### Por que essa configura√ß√£o √© importante?

- **Performance**: Agent n√£o precisa instalar Java/Maven a cada execu√ß√£o
- **Reliability**: Vers√µes espec√≠ficas garantem comportamento consistente  
- **Cost-efficiency**: Reduz uso de minutos do GitHub Actions
- **Developer Experience**: Agent pode focar no c√≥digo, n√£o na infraestrutura

#### Elementos-chave do workflow:

| Elemento | Prop√≥sito |
|----------|-----------|
| `workflow_dispatch` | Permite execu√ß√£o manual para testes |
| `copilot-setup-steps` | Nome obrigat√≥rio do job |
| `contents: read` | Permiss√£o m√≠nima necess√°ria |
| `setup-java@v4` | Instala Java 21 com cache Maven |
| `mongodb-github-action` | Configura MongoDB para desenvolvimento |
| `continue-on-error: true` | Evita falhas em steps n√£o-cr√≠ticos |

### üéØ Finalizando a Etapa 3

1. Crie um **pull request** do branch `prepare-environment` para `main`, mas **N√ÉO** fa√ßa o merge ainda.

2. O workflow de valida√ß√£o ir√° verificar se:
   - [X] Voc√™ marcou a caixa de entendimento no arquivo `copilot-instructions.md`
   - [X] Voc√™ marcou a caixa de entendimento no arquivo `copilot-setup-steps.yml`

3. **Aguarde a Mona** verificar seus arquivos e fornecer feedback.

4. Depois que a Mona confirmar que tudo est√° correto, voc√™ pode fazer o **merge** do pull request.

### ü§î Reflex√£o

> **Pergunta**: Como foi o processo de configura√ß√£o manual comparado a deixar o GitHub Copilot Agent fazer a maior parte do trabalho automaticamente?

**Benef√≠cios da configura√ß√£o pr√©via**:
- ‚úÖ **Controle total** sobre o ambiente e depend√™ncias
- ‚úÖ **Documenta√ß√£o clara** dos requisitos do projeto  
- ‚úÖ **Reutiliza√ß√£o** da configura√ß√£o em diferentes sess√µes
- ‚úÖ **Redu√ß√£o de erros** por configura√ß√£o inconsistente

**Pr√≥ximos passos**: Na etapa 4, voc√™ ver√° o GitHub Copilot Agent em a√ß√£o usando essas configura√ß√µes!

---

<details>
<summary>ü§∑ Est√° com problemas?</summary>

Se voc√™ acidentalmente fez o merge do pull request antes da Mona fornecer feedback, tudo bem! Voc√™ pode:

1. Recriar o branch `prepare-environment` 
2. Fazer as corre√ß√µes necess√°rias
3. Criar um novo pull request

O importante √© garantir que ambas as caixas de sele√ß√£o estejam marcadas nos arquivos corretos.

</details>